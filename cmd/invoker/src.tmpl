//go:build windows

// Code generated by `{{ range $i, $a := .CommandLine }}{{ if gt $i 0 }} {{ end }}"{{ $a }}"{{ end }}`; DO NOT EDIT.
// Documentation: {{ .SelfDocumentationURL }}
{{ if .SelfGenerate -}}
//go:generate {{ range $i, $a := .CommandLine }}{{ if eq $i 0 }}{{ $a }}{{ else }} "{{ $a }}"{{ end }}{{ end }}
{{- end }}

package {{ .DestinationPackageName }}

import (
	"{{ .SelfImportPath }}"
	"golang.org/x/sys/windows"
)

// {{ .TypeName }} contains all exports from "{{ .DllFileName }}".
type {{ .TypeName }} struct {
    {{ range $a := .Exports -}}
    {{$a.TypeName}} *windows.LazyProc `func:"{{$a.Function}}"`
    {{ end -}}
}

// Unmarshal loads the corresponding DLL into memory and fills export functions defined in the struct.
func (dll *{{ .TypeName }}) Unmarshal(path string) error {
    return {{ .SelfPackageName }}.Unmarshal(path, &dll)
}
