//go:build windows

// Code generated by {{ .SelfPackageName }} {{ .SelfExecutableName }}; DO NOT EDIT.
// Documentation: {{ .SelfDocumentationURL }}
// Full command line: `{{ range $i, $a := .CommandLineRaw }}{{ if gt $i 0 }} {{ end }}"{{ $a }}"{{ end }}`
{{ if .SelfGenerate -}}
//go:generate {{ range $i, $a := .CommandLineCooked }}{{ if gt $i 0 }} {{ end }}{{ $a }}{{ end }}
{{- end }}

package {{ .DestinationPackageName }}

import (
	"{{ .SelfImportPath }}"
	"golang.org/x/sys/windows"
)

// {{ .TypeName }} contains all exports from "{{ .DllFileName }}".
type {{ .TypeName }} struct {
    {{ range $a := .Exports -}}
    {{$a.TypeName}} *windows.LazyProc `func:"{{$a.Function}}"`
    {{ end -}}
}

// Unmarshal loads the corresponding DLL into memory and fills export functions defined in the struct.
func (dll *{{ .TypeName }}) Unmarshal(path string) error {
    return {{ .SelfPackageName }}.Unmarshal(path, dll)
}
